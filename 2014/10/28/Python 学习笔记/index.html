<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Python 学习笔记 | Misok‘s Blog</title>
  <meta name="author" content="Maqianwen">
  
  <meta name="description" content="爱生活 爱code">
  
  
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  <meta property="og:title" content="Python 学习笔记"/>
  <meta property="og:site_name" content="Misok‘s Blog"/>

  
    <meta property="og:image" content="undefined"/>
  

  <link href="/favicon.png" rel="icon">
  <link rel="alternate" href="/atom.xml" title="Misok‘s Blog" type="application/atom+xml">
  <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">
  <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
  

</head>


<body>
  <header id="header" class="inner"><div class="alignleft">
  <h1><a href="/">Misok‘s Blog</a></h1>
  <h2><a href="/">To be a better man.</a></h2>
</div>
<nav id="main-nav" class="alignright">
  <ul>
    
      <li><a href="/">Home</a></li>
    
      <li><a href="/archives">Archives</a></li>
    
      <li><a href="/resume">Resume</a></li>
    
  </ul>
  <div class="clearfix"></div>
</nav>
<div class="clearfix"></div></header>
  <div id="content" class="inner">
    <div id="main-col" class="alignleft"><div id="wrapper"><article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2014-10-27T16:00:00.000Z"><a href="/2014/10/28/Python 学习笔记/">2014-10--28</a></time>
      
      
  
    <h1 class="title">Python 学习笔记</h1>
  

    </header>
    <div class="entry">
      
        <p>恩，喜欢python，下面是一些学习笔记<br>其实举得有记笔记的习惯蛮好的哈。</p>
<h2><a id="more"></a></h2>
<h4 id="字符编码">字符编码</h4>
<ul>
<li>在计算机内存中，统一使用Unicode编码，当需要保存到硬盘或者需要传输的时候，就转换为UTF-8编码。</li>
<li>ord()和chr()函数，可以把字母和对应的数字相互转换</li>
<li>字符串’xxx’虽然是ASCII编码，但也可以看成是UTF-8编码，而u’xxx’则只能是Unicode编码。</li>
<li>把u’xxx’转换为UTF-8编码的’xxx’用encode(‘utf-8’)方法：</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="string">u'ABC'</span>.encode(<span class="string">'utf-8'</span>)</div><div class="line"><span class="string">u'中文'</span>.encode(<span class="string">'utf-8'</span>)</div></pre></td></tr></table></figure>

<ul>
<li>英文字符转换后表示的UTF-8的值和Unicode值相等（但占用的存储空间不同），而中文字符转换后1个Unicode字符将变为3个UTF-8字符</li>
<li>len()函数可以返回字符串的长度</li>
<li>把UTF-8编码表示的字符串’xxx’转换为Unicode字符串u’xxx’用decode(‘utf-8’)方法</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="string">'abc'</span>.decode(<span class="string">'utf-8'</span>)</div><div class="line"><span class="keyword">print</span> <span class="string">'\xe4\xb8\xad\xe6\x96\x87'</span>.decode(<span class="string">'utf-8'</span>)</div></pre></td></tr></table></figure>

<ul>
<li>由于Python源代码也是一个文本文件，所以，当你的源代码中包含中文的时候，在保存源代码时，就需要务必指定保存为UTF-8编码。当Python解释器读取源代码时，为了让它按UTF-8编码读取，我们通常在文件开头写上这两行：</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="comment">#!/usr/bin/env/ python</span></div><div class="line"><span class="comment">#-*- coding: utf-8 -*-</span></div></pre></td></tr></table></figure>

<h4 id="格式化">格式化</h4>
<ul>
<li>%运算符就是用来格式化字符串的。在字符串内部，%s表示用字符串替换，%d表示用整数替换，有几个%?占位符，后面就跟几个变量或者值，顺序要对应好。如果只有一个%?，括号可以省略。</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="string">'hi,%s,you have $%d.'</span>%(<span class="string">'michael'</span>,<span class="number">1000000</span>)</div></pre></td></tr></table></figure>

<ul>
<li>%d:整数  %s:字符串 %f:浮点数 %x:十六进制整数</li>
<li>字符串里面的%是一个普通字符怎么办？这个时候就需要转义，用%%来表示一个%</li>
<li>在Python 3.x版本中，把’xxx’和u’xxx’统一成Unicode编码，即写不写前缀u都是一样的，而以字节形式表示的字符串则必须加上b前缀：b’xxx’<h4 id="python_中的列表">python 中的列表</h4>
<strong>1.list</strong></li>
<li>表名= [元素1,元素2,…]<br> ps:元素可以是不同类型，变长,索引访问，从0开始</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">list=[<span class="string">'xiaoma'</span>,<span class="number">123</span>,<span class="keyword">True</span>,[<span class="string">'asp'</span>,<span class="number">12</span>],<span class="string">'abc'</span>]</div><div class="line">list[<span class="number">0</span>]//获取第一个元素</div><div class="line">list[-<span class="number">1</span>]//获取最后一个元素，倒数第一的意思，以此类推</div><div class="line">len(list)//获得元素个数</div><div class="line">list.append(<span class="string">'2b'</span>)//末尾追加元素</div><div class="line">list.insert(<span class="number">1</span>,<span class="string">'jack'</span>)//在位置<span class="number">1</span>出插入元素</div><div class="line">list.pop()//删除末尾元素</div><div class="line">list.pop(i)//删除i位置的元素</div><div class="line">list[<span class="number">1</span>]=<span class="string">'sara'</span>//直接替换位置<span class="number">1</span>的元素</div><div class="line">list[<span class="number">3</span>][<span class="number">0</span>]//访问‘asp<span class="string">'</span></div></pre></td></tr></table></figure>

<p><strong>2.tuple</strong></p>
<ul>
<li>tuple一旦初始化不能更改，所以没有append、insert方法</li>
<li>表名=（元素1，元素2，…）</li>
<li>一个元素的tuple定义时：t=(1,) 以消除数学上的歧义 </li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">t=('1','abc',['x','y'])//定义一个内部含list的tuple</div><div class="line">t[2][0]='m'</div><div class="line">t[2][1]='n'</div><div class="line">t</div><div class="line">//输出结果为(‘1’，‘abc',['m','n'])，因为list是可变的</div><div class="line">//访问元素用方括号</div></pre></td></tr></table></figure>

<h4 id="条件判断和循环">条件判断和循环</h4>
<p><strong>1.if条件语句</strong></p>
<ul>
<li>if语句执行是从上往下判断，如果在某个判断上是True，把该判断对应的语句执行后，就忽略掉剩下的elif和else</li>
<li>if&lt;条件判断1&gt;：<br>  &lt;执行1&gt;<br>elif&lt;条件判断2&gt;：<br>  &lt;执行2&gt;<br>elif&lt;条件判断3&gt;：<br>  &lt;执行3&gt;<br>else:<br>  &lt;执行4&gt;</li>
<li>if x:<pre><code><span class="keyword">print</span> <span class="string">'True'</span>
</code></pre>只要x是非零数值、非空字符串、非空list，就判断为True,否则为False。<br><strong>2.循环</strong><h5 id="2-1_for_in循环">2.1 for in循环</h5>
for x in …//把每个元素循环带入变量x,执行缩进语句块</li>
</ul>
<p>依次把list或tuple中的每个元素迭代出来</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">names=[<span class="string">'x'</span>,<span class="string">'y'</span>,<span class="string">'z'</span>]</div><div class="line"><span class="keyword">for</span> name <span class="keyword">in</span> names:</div><div class="line">	<span class="keyword">print</span> name</div></pre></td></tr></table></figure>

<ul>
<li>range(101):产生从0-100的整数序列</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">sum=<span class="number">0</span></div><div class="line"><span class="keyword">for</span> x <span class="keyword">in</span> range(<span class="number">101</span>):</div><div class="line">    sum=sum+x</div><div class="line"><span class="keyword">print</span> sum//计算<span class="number">0</span>-<span class="number">100</span>的和</div></pre></td></tr></table></figure>

<h5 id="2-2_while循环">2.2 while循环</h5>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">sum=<span class="number">0</span></div><div class="line">n=<span class="number">99</span></div><div class="line"><span class="keyword">while</span> n&gt;<span class="number">0</span>:</div><div class="line">    sum=sum+n</div><div class="line">    n=n-<span class="number">2</span></div><div class="line"><span class="keyword">print</span> sum//计算<span class="number">100</span>以内的奇数和</div></pre></td></tr></table></figure>

<p><strong>tip：</strong>从raw_input()读取的内容永远以字符串的形式返回，把字符串和整数比较就不会得到期待的结果，必须先用int()把字符串转换为我们想要的整型：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">x=int(raw_input())</div></pre></td></tr></table></figure>

<h4 id="dict和set">dict和set</h4>
<p><strong>dict</strong></p>
<ul>
<li>语法：字典名={key:value,key:value,…}</li>
<li>查找对应键的值:字典名[key]</li>
<li>还可以通过key放入值：d[key]=x  多次复制后，后面会把前面的值覆盖掉</li>
<li>判断key是否存在的方法：<br>1.key in 字典名<br>2.字典名.get(key) 或者自己指定返回值 字典名.get(key,返回值)<br>注：使用默认返回时，命令行不提示信息</li>
<li>删除key:pop(key)  对应的值也会删除</li>
<li>dict是一种时间换空间的方法</li>
<li>key 必须是不可变对象(比如list是可变的，就不能作为key)</li>
<li>查找和插入的速度快</li>
<li>貌似不能添加？key?</li>
<li>重复的键值对会被自动忽略<br><strong>set</strong></li>
<li>set 相当于是一个数学上的无序无重复元素的集合</li>
<li>语法：s=set([1,2,3])  注：需要一个list作为输入集合</li>
<li>重复元素被自动过滤</li>
<li>s.add(key)  添加元素</li>
<li>s.remove(key) 删除元素</li>
<li>两个list可以作 交和并<br>s1&amp;s2   s1|s2</li>
<li>不能放不可变对象<h4 id="不可变对象">不可变对象</h4>
对于不变对象来说，调用对象自身的任意方法，也不会改变该对象自身的内容。相反，这些方法会创建新的对象并返回，这样，就保证了不可变对象本身永远是不可变的。<br>注：字符串对象的replace方法和list的sort方法<br>  tuple是不可变对象</li>
</ul>
<h4 id="函数">函数</h4>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">my_abs</span><span class="params">(x)</span>:</span></div><div class="line">    <span class="keyword">if</span> <span class="keyword">not</span> isinstance(x,(int,float)):</div><div class="line">        <span class="keyword">raise</span> TypeError(<span class="string">'bad operand type'</span>)</div><div class="line">    <span class="keyword">if</span> x&gt;=<span class="number">0</span>:</div><div class="line">        <span class="keyword">return</span> x</div><div class="line">    <span class="keyword">if</span> x&lt;<span class="number">0</span>:</div><div class="line">        <span class="keyword">return</span> -x</div><div class="line">x=int(raw_input(<span class="string">'enter your variable:'</span>))</div><div class="line"><span class="keyword">print</span> myabs(x)</div></pre></td></tr></table></figure>

<ul>
<li>def关键字定义函数，函数名，参数个数，冒号</li>
<li>有必要，需要对参数类型做检查</li>
<li>return返回函数结果 没有返回结果自动return none</li>
<li>函数可以同时返回多个值，多个值放在一个tuple里面</li>
<li>空函数，用来占位</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">nop</span><span class="params">()</span>:</span></div><div class="line">    <span class="keyword">pass</span></div></pre></td></tr></table></figure>

<h4 id="函数的参数">函数的参数</h4>
<p><strong>1.默认参数</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">power</span><span class="params">(x, n=<span class="number">2</span>)</span>:</span></div><div class="line">    s = <span class="number">1</span></div><div class="line">    <span class="keyword">while</span> n &gt; <span class="number">0</span>:</div><div class="line">        n = n - <span class="number">1</span></div><div class="line">        s = s * x</div><div class="line">    <span class="keyword">return</span> s</div><div class="line">power(<span class="number">5</span>)//计算<span class="number">5</span>的平方</div><div class="line">power(<span class="number">5</span>,<span class="number">3</span>)//计算<span class="number">5</span>的立方</div></pre></td></tr></table></figure>

<ul>
<li>默认参数可以简化函数的调用（例子中n=2即为默认参数</li>
<li>必选参数在前，默认参数在后</li>
<li>当函数有多个参数时，变化大的参数放在前面，变化小的参数放在后面，变化小的参数就可以作为默认参数</li>
<li>默认参数降低了函数调用的难度，而需要复杂调用时，可以仅通过传递更多的参数来实现</li>
<li>默认参数必须指向不可变对象</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">add_end</span><span class="params">(L=None)</span>:</span></div><div class="line">    <span class="keyword">if</span> L <span class="keyword">is</span> <span class="keyword">None</span>:</div><div class="line">        L = []</div><div class="line">    L.append(<span class="string">'END'</span>)</div><div class="line">    <span class="keyword">return</span> L</div><div class="line">//默认参数的坑</div></pre></td></tr></table></figure>

<p><strong>2.可变参数</strong></p>
<ul>
<li>可变参数:传入的参数的个数可以是任意多个</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">//计算平方和</div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">calc</span><span class="params">(*numbers)</span>:</span></div><div class="line">    sum = <span class="number">0</span></div><div class="line">    <span class="keyword">for</span> n <span class="keyword">in</span> numbers:</div><div class="line">        sum = sum + n * n</div><div class="line">    <span class="keyword">return</span> sum</div><div class="line"></div><div class="line">calc(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>)//正常调用</div><div class="line">calc()//传入参数可以是<span class="number">0</span>个</div><div class="line">nums=[<span class="number">1</span>,<span class="number">3</span>,<span class="number">4</span>]</div><div class="line">calc(*nums)//如果已经有一个tuple或者list,那么可以j加*号，把它们的元素变成可变参数穿进去</div></pre></td></tr></table></figure>

<ul>
<li>可变参数函数内部，numbers接受到的的一个tuple</li>
</ul>
<p><strong>3.关键字参数</strong><br>关键字参数，用来扩展函数的性能</p>
<ul>
<li>关键字参数允许传入任意个数带参数名的参数，这些关键字参数在函数内部自动组合成一个dict</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">person</span><span class="params">(name, age, **kw)</span>:</span></div><div class="line">    <span class="keyword">print</span> <span class="string">'name:'</span>, name, <span class="string">'age:'</span>, age, <span class="string">'other:'</span>, kw</div><div class="line">person(<span class="string">'Bob'</span>, <span class="number">35</span>, city=<span class="string">'Beijing'</span>)</div><div class="line">//输出：name: Bob age: <span class="number">35</span> other: {<span class="string">'city'</span>: <span class="string">'Beijing'</span>}</div><div class="line">person(<span class="string">'Adam'</span>, <span class="number">45</span>, gender=<span class="string">'M'</span>, job=<span class="string">'Engineer'</span>)</div><div class="line"> kw = {<span class="string">'city'</span>: <span class="string">'Beijing'</span>, <span class="string">'job'</span>: <span class="string">'Engineer'</span>}</div><div class="line"> person(<span class="string">'Jack'</span>, <span class="number">24</span>, **kw)//把一个已存在的dict作为关键字参数传进去</div></pre></td></tr></table></figure>

<p><strong>4.参数组合</strong></p>
<ul>
<li>以上参数可以自由组合使用，但是顺序必须是必选参数、默认参数、可变参数和关键字参数</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">func</span><span class="params">(a, b, c=<span class="number">0</span>, *args, **kw)</span>:</span></div><div class="line">    <span class="keyword">print</span> <span class="string">'a ='</span>, a, <span class="string">'b ='</span>, b, <span class="string">'c ='</span>, c, <span class="string">'args ='</span>, args, <span class="string">'kw ='</span>, kw</div><div class="line"> func(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="string">'a'</span>, <span class="string">'b'</span>, x=<span class="number">99</span>)</div><div class="line">a = <span class="number">1</span> b = <span class="number">2</span> c = <span class="number">3</span> args = (<span class="string">'a'</span>, <span class="string">'b'</span>) kw = {<span class="string">'x'</span>: <span class="number">99</span>}</div><div class="line"><span class="prompt">&gt;&gt;&gt; </span>args = (<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>)</div><div class="line"><span class="prompt">&gt;&gt;&gt; </span>kw = {<span class="string">'x'</span>: <span class="number">99</span>}</div><div class="line"><span class="prompt">&gt;&gt;&gt; </span>func(*args, **kw)</div><div class="line">a = <span class="number">1</span> b = <span class="number">2</span> c = <span class="number">3</span> args = (<span class="number">4</span>,) kw = {<span class="string">'x'</span>: <span class="number">99</span>}</div></pre></td></tr></table></figure>

<ul>
<li>默认参数一定要用不可变对象</li>
<li>*args是可变参数，args接收的是一个tuple</li>
<li>**kw是关键字参数，kw接收的是一个dict</li>
</ul>
<h4 id="递归函数">递归函数</h4>
<ul>
<li>使用递归函数的优点是逻辑简单清晰，缺点是过深的调用会导致栈溢出。</li>
<li>针对尾递归优化的语言可以通过尾递归防止栈溢出。尾递归事实上和循环是等价的，没有循环语句的编程语言只能通过尾递归实现循环。</li>
<li>Python标准的解释器没有针对尾递归做优化，任何递归函数都存在栈溢出的问题。</li>
</ul>
<h4 id="高级功能">高级功能</h4>
<p><strong>1.切片</strong></p>
<ul>
<li>语法：L=[x:y:z]<br>x：y—表示从是很么位置取出元素取到什么位置，不包括y<br>：z—每隔多少元素取，可省略</li>
<li>如果是从头取，x=0可以省略</li>
<li>切片的对象可以是list,tuple,和字符串</li>
</ul>
<p><strong>2.迭代</strong></p>
<ul>
<li>迭代通过for…in来实现，只要是可迭代对象，都可以用for循环</li>
<li>z还要是可迭代对象，无论有无下标，都可迭代</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line">d = {<span class="string">'a'</span>: <span class="number">1</span>, <span class="string">'b'</span>: <span class="number">2</span>, <span class="string">'c'</span>: <span class="number">3</span>}</div><div class="line"><span class="keyword">for</span> key <span class="keyword">in</span> d://迭代dict</div><div class="line"><span class="keyword">for</span> value <span class="keyword">in</span> d.itervalues()//迭代value</div><div class="line"><span class="keyword">for</span> k, v <span class="keyword">in</span> d.iteritems()//迭代key和value</div><div class="line"></div><div class="line"><span class="keyword">for</span> ch <span class="keyword">in</span> <span class="string">'ABC'</span>://迭代字符串</div><div class="line"><span class="keyword">for</span> i, value <span class="keyword">in</span> enumerate([<span class="string">'A'</span>, <span class="string">'B'</span>, <span class="string">'C'</span>])://同时迭代索引和元素，其中enumerateh函数是可以把一个list变成索引元素对。</div><div class="line"></div><div class="line">//判断是否可迭代的函数</div><div class="line"><span class="prompt">&gt;&gt;&gt; </span><span class="keyword">from</span> collections <span class="keyword">import</span> Iterable</div><div class="line"><span class="prompt">&gt;&gt;&gt; </span>isinstance(<span class="string">'abc'</span>, Iterable) <span class="comment"># str是否可迭代</span></div><div class="line"><span class="keyword">True</span></div><div class="line"><span class="prompt">&gt;&gt;&gt; </span>isinstance([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>], Iterable) <span class="comment"># list是否可迭代</span></div><div class="line"><span class="keyword">True</span></div><div class="line"><span class="prompt">&gt;&gt;&gt; </span>isinstance(<span class="number">123</span>, Iterable) <span class="comment"># 整数是否可迭代</span></div><div class="line"><span class="keyword">False</span></div></pre></td></tr></table></figure>

<p><strong>3.列表生成式</strong><br>用来生成复杂list<br>语法：[生成元素形式 for…in]</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="prompt">&gt;&gt;&gt; </span>[x * x <span class="keyword">for</span> x <span class="keyword">in</span> range(<span class="number">1</span>, <span class="number">11</span>)]</div><div class="line">[<span class="number">1</span>, <span class="number">4</span>, <span class="number">9</span>, <span class="number">16</span>, <span class="number">25</span>, <span class="number">36</span>, <span class="number">49</span>, <span class="number">64</span>, <span class="number">81</span>, <span class="number">100</span>]</div><div class="line"></div><div class="line"><span class="prompt">&gt;&gt;&gt; </span>[m + n <span class="keyword">for</span> m <span class="keyword">in</span> <span class="string">'ABC'</span> <span class="keyword">for</span> n <span class="keyword">in</span> <span class="string">'XYZ'</span>]</div><div class="line">[<span class="string">'AX'</span>, <span class="string">'AY'</span>, <span class="string">'AZ'</span>, <span class="string">'BX'</span>, <span class="string">'BY'</span>, <span class="string">'BZ'</span>, <span class="string">'CX'</span>, <span class="string">'CY'</span>, <span class="string">'CZ'</span>]</div><div class="line"></div><div class="line"><span class="prompt">&gt;&gt;&gt; </span>d = {<span class="string">'x'</span>: <span class="string">'A'</span>, <span class="string">'y'</span>: <span class="string">'B'</span>, <span class="string">'z'</span>: <span class="string">'C'</span> }</div><div class="line"><span class="prompt">&gt;&gt;&gt; </span>[k + <span class="string">'='</span> + v <span class="keyword">for</span> k, v <span class="keyword">in</span> d.iteritems()]</div><div class="line">[<span class="string">'y=B'</span>, <span class="string">'x=A'</span>, <span class="string">'z=C'</span>]</div><div class="line"></div><div class="line"><span class="prompt">&gt;&gt;&gt; </span>L = [<span class="string">'Hello'</span>, <span class="string">'World'</span>, <span class="number">18</span>, <span class="string">'Apple'</span>, <span class="keyword">None</span>]</div><div class="line"><span class="prompt">&gt;&gt;&gt; </span>[s.lower() <span class="keyword">for</span> s <span class="keyword">in</span> L <span class="keyword">if</span> isinstance(s,str)]</div><div class="line">[<span class="string">'hello'</span>,<span class="string">'world'</span>,<span class="string">'apple'</span>]</div></pre></td></tr></table></figure>

<p><strong>4.生成器</strong></p>
<ul>
<li>一边循环一边计算的机制，成为生成器</li>
<li>可以节省空间</li>
<li>创建方法1：直接把列表生成式的[]改成()</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="prompt">&gt;&gt;&gt; </span>g = (x * x <span class="keyword">for</span> x <span class="keyword">in</span> range(<span class="number">10</span>))</div><div class="line"><span class="prompt">&gt;&gt;&gt; </span><span class="keyword">for</span> n <span class="keyword">in</span> g:</div><div class="line"><span class="prompt">... </span>    <span class="keyword">print</span> n</div></pre></td></tr></table></figure>

<ul>
<li>可以用函数创建</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">fib</span><span class="params">(max)</span>:</span></div><div class="line">    n, a, b = <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span></div><div class="line">    <span class="keyword">while</span> n &lt; max:</div><div class="line">        <span class="keyword">yield</span> b</div><div class="line">        a, b = b, a + b</div><div class="line">        n = n + <span class="number">1</span></div><div class="line"><span class="prompt">&gt;&gt;&gt; </span><span class="keyword">for</span> n <span class="keyword">in</span> fib(<span class="number">6</span>):</div><div class="line"><span class="prompt">... </span>    <span class="keyword">print</span> n</div></pre></td></tr></table></figure>

<ul>
<li>函数是顺序执行，遇到return语句或者最后一行函数语句就返回。而变成generator的函数，在每次调用next()的时候执行，遇到yield语句返回，再次执行时从上次返回的yield语句处继续执行</li>
<li>要理解generator的工作原理，它是在for循环的过程中不断计算出下一个元素，并在适当的条件结束for循环。对于函数改成的generator来说，遇到return语句或者执行到函数体最后一行语句，就是结束generator的指令，for循环随之结束。</li>
</ul>

      
    </div>
    <footer>
      
        
  
  <div class="categories">
    <a href="/categories/Python/">Python</a>
  </div>

        
  
  <div class="tags">
    <a href="/tags/Python/">Python</a>, <a href="/tags/笔记/">笔记</a>
  </div>

        
  <div class="addthis addthis_toolbox addthis_default_style">
    
      <a class="addthis_button_facebook_like" fb:like:layout="button_count"></a>
    
    
      <a class="addthis_button_tweet"></a>
    
    
      <a class="addthis_button_google_plusone" g:plusone:size="medium"></a>
    
    
      <a class="addthis_button_pinterest_pinit" pi:pinit:layout="horizontal"></a>
    
    <a class="addthis_counter addthis_pill_style"></a>
  </div>
  <script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js"></script>

      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>


 <nav id="pagination" >
    
    <a href="/2014/11/05/MAC下配置安卓开发环境/" class="alignleft prev" >上一页</a>
    
    
    <a href="/2014/10/26/tieba_spider/" class="alignright next" >下一页</a>
    
    <div class="clearfix"></div>
</nav>
<section id="comment">

  <h1 class="title">留言</h1>

  
      <div id="fb-root"></div>
<script>
  (function(d, s, id) {
    var js, fjs = d.getElementsByTagName(s)[0];
    if (d.getElementById(id)) return;
    js = d.createElement(s); js.id = id;
    js.src = "//connect.facebook.net/en_US/all.js#xfbml=1&appId=123456789012345";
    fjs.parentNode.insertBefore(js, fjs);
  }(document, 'script', 'facebook-jssdk'));
</script>

<div class="fb-comments" data-href="http://yoursite.com/2014/10/28/Python 学习笔记/" data-num-posts="5" data-width="840" data-colorscheme="light"></div>
      
  
<!-- 多说评论框 start -->
  <div class="ds-thread" data-thread-key="2014/10/28/Python 学习笔记/" data-title="Python 学习笔记" data-url=""></div>
<!-- 多说评论框 end -->
<!-- 多说公共JS代码 start (一个网页只需插入一次) -->
<script type="text/javascript">
var duoshuoQuery = {short_name:"misok"};
  (function() {
    var ds = document.createElement('script');
    ds.type = 'text/javascript';ds.async = true;
    ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
    ds.charset = 'UTF-8';
    (document.getElementsByTagName('head')[0] 
     || document.getElementsByTagName('body')[0]).appendChild(ds);
  })();
  </script>
<!-- 多说公共JS代码 end -->
</section>

</div></div>
    <aside id="sidebar" class="alignright">
  <div class="search">
  <form action="//google.com/search" method="get" accept-charset="utf-8">
    <input type="search" name="q" results="0" placeholder="搜索">
    <input type="hidden" name="q" value="site:yoursite.com">
  </form>
</div>

  
<div class="widget tag">
  <h3 class="title">分类</h3>
  <ul class="entry">
  
    <li><a href="/categories/Android/">Android</a><small>2</small></li>
  
    <li><a href="/categories/Hexo/">Hexo</a><small>1</small></li>
  
    <li><a href="/categories/Python/">Python</a><small>3</small></li>
  
    <li><a href="/categories/前端开发/">前端开发</a><small>16</small></li>
  
    <li><a href="/categories/开源软件/">开源软件</a><small>1</small></li>
  
    <li><a href="/categories/摄影/">摄影</a><small>1</small></li>
  
    <li><a href="/categories/生活记录/">生活记录</a><small>2</small></li>
  
  </ul>
</div>


  
<div class="widget tagcloud">
  <h3 class="title">标签云</h3>
  <div class="entry">
    <a href="/tags/CSS/" style="font-size: 20.00px;">CSS</a><a href="/tags/CSS3/" style="font-size: 10.00px;">CSS3</a><a href="/tags/CSS，HTML/" style="font-size: 16.67px;">CSS，HTML</a><a href="/tags/HTML/" style="font-size: 10.00px;">HTML</a><a href="/tags/HTML5/" style="font-size: 10.00px;">HTML5</a><a href="/tags/Hexo/" style="font-size: 10.00px;">Hexo</a><a href="/tags/JS/" style="font-size: 20.00px;">JS</a><a href="/tags/JavaScript/" style="font-size: 16.67px;">JavaScript</a><a href="/tags/OSS/" style="font-size: 10.00px;">OSS</a><a href="/tags/Python/" style="font-size: 10.00px;">Python</a><a href="/tags/android/" style="font-size: 13.33px;">android</a><a href="/tags/answer/" style="font-size: 10.00px;">answer</a><a href="/tags/codecademy/" style="font-size: 10.00px;">codecademy</a><a href="/tags/jQuery/" style="font-size: 16.67px;">jQuery</a><a href="/tags/life/" style="font-size: 16.67px;">life</a><a href="/tags/mac/" style="font-size: 10.00px;">mac</a><a href="/tags/spider/" style="font-size: 10.00px;">spider</a><a href="/tags/前端开发，-生活记录/" style="font-size: 10.00px;">前端开发， 生活记录</a><a href="/tags/开源软件/" style="font-size: 10.00px;">开源软件</a><a href="/tags/摄影/" style="font-size: 10.00px;">摄影</a><a href="/tags/环境/" style="font-size: 10.00px;">环境</a><a href="/tags/笔记/" style="font-size: 20.00px;">笔记</a><a href="/tags/调试/" style="font-size: 10.00px;">调试</a>
  </div>
</div>


  <div class="widget tag">
<h3 class="title">友情链接</h3>
<ul class="entry">
<li><a href="http://abbeychenxi.net/" title="Abbey in cradle studio">Abbey</a></li>
<li><a href="http://andrewliu.tk/" title="Andrew Liu">Andrew Liu</a></li>
<li><a href="http://jas923.tk/" title="Jason Tan">Janson Tan</a></li>
<li><a href="http://sqing.tk/" title="Su Qing">Su Qing</a></li>
<li><a href="http://rulerstorm.github.io/" title="Ruler">Ruler</a></li>

</ul>
</div>

</aside>
    <div class="clearfix"></div>
  </div>
  <footer id="footer" class="inner"><div class="alignleft">
  
  &copy; 2016 Maqianwen
  
</div>
<div class="clearfix"></div></footer>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>
<script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>




<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
  $('.fancybox').fancybox();
})(jQuery);
</script>

</body>
</html>